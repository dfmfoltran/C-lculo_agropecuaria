<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Recomenda√ß√£o de Pre√ßos por Estado</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    input { margin: 5px; padding: 5px; width: 80px; }
    label { display: block; margin: 10px 0 5px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background: #f0f0f0; }
    .box { margin-bottom: 30px; }
  </style>
</head>
<body>
  <h2>üí∞ Recomenda√ß√£o de Pre√ßos por Estado</h2>

  <div class="box">
    <label>Custo Total da Opera√ß√£o (R$): <input id="custoTotal" type="number" value="10000" /></label>
    <label>Margem de Lucro M√≠nima (%): <input id="lucroMinimo" type="number" value="15" /></label>
  </div>

  <div class="box">
    <h3>Concorrente 1 (R$/saca):</h3>
    <label>SP: <input id="c1_sp" type="number" value="52" /></label>
    <label>RJ: <input id="c1_rj" type="number" value="57" /></label>
    <label>MG: <input id="c1_mg" type="number" value="56" /></label>
  </div>

  <div class="box">
    <h3>Concorrente 2 (R$/saca):</h3>
    <label>SP: <input id="c2_sp" type="number" value="50" /></label>
    <label>RJ: <input id="c2_rj" type="number" value="58" /></label>
    <label>MG: <input id="c2_mg" type="number" value="54" /></label>
  </div>

  <button onclick="calcularPrecosRecomendados()">Calcular Pre√ßos Recomendados</button>

  <table id="resultado" style="display: none;">
    <thead>
      <tr>
        <th>Estado</th>
        <th>Pre√ßo Min. (R$)</th>
        <th>Concorrente 1 (R$)</th>
        <th>Concorrente 2 (R$)</th>
        <th>Dif. Conc. 1 (R$)</th>
        <th>Dif. Conc. 2 (R$)</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    function calcularPrecosRecomendados() {
      const custoTotal = parseFloat(document.getElementById("custoTotal").value);
      const margem = parseFloat(document.getElementById("lucroMinimo").value) / 100;

      const concorrentes = {
        SP: [parseFloat(document.getElementById("c1_sp").value), parseFloat(document.getElementById("c2_sp").value)],
        RJ: [parseFloat(document.getElementById("c1_rj").value), parseFloat(document.getElementById("c2_rj").value)],
        MG: [parseFloat(document.getElementById("c1_mg").value), parseFloat(document.getElementById("c2_mg").value)]
      };

      const impostos = {
        SP: 0.06,
        RJ: 0.12, // 6% + difal 6%
        MG: 0.14  // 6% + difal 8%
      };

      const tbody = document.querySelector("#resultado tbody");
      tbody.innerHTML = "";

      for (const estado in impostos) {
        const imposto = impostos[estado];
        const precoMinimo = custoTotal * (1 + imposto) * (1 + margem);
        const [conc1, conc2] = concorrentes[estado];
        const dif1 = (conc1 - precoMinimo).toFixed(2);
        const dif2 = (conc2 - precoMinimo).toFixed(2);

        const row = `<tr>
          <td>${estado}</td>
          <td>${precoMinimo.toFixed(2)}</td>
          <td>${conc1.toFixed(2)}</td>
          <td>${conc2.toFixed(2)}</td>
          <td>${dif1}</td>
          <td>${dif2}</td>
        </tr>`;

        tbody.innerHTML += row;
      }

      document.getElementById("resultado").style.display = "table";
    }
  </script>
</body>
</html>
