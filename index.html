<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Recomenda√ß√£o de Pre√ßos</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #f2f2f2; }
    input[type="number"] { width: 100px; }
  </style>
</head>
<body>

  <h2>üí∞ Recomenda√ß√£o de Pre√ßos por Estado</h2>

  <label for="precoFinal">Custo Total da Opera√ß√£o (R$): </label>
  <input type="number" id="precoFinal" value="10000" step="0.01"><br><br>

  <label for="lucroMinimo">Margem de Lucro M√≠nima (%): </label>
  <input type="number" id="lucroMinimo" value="15" step="1"><br><br>

  <h4>Concorrente 1 (R$/saca):</h4>
  SP: <input type="number" id="conc1_sp" value="52"> 
  RJ: <input type="number" id="conc1_rj" value="57"> 
  MG: <input type="number" id="conc1_mg" value="56"><br><br>

  <h4>Concorrente 2 (R$/saca):</h4>
  SP: <input type="number" id="conc2_sp" value="50"> 
  RJ: <input type="number" id="conc2_rj" value="58"> 
  MG: <input type="number" id="conc2_mg" value="54"><br><br>

  <button onclick="calcular()">Calcular Pre√ßos Recomendados</button>

  <div id="resultado"></div>

  <script>
    function calcular() {
      const custoTotal = parseFloat(document.getElementById('precoFinal').value);
      const margemLucro = parseFloat(document.getElementById('lucroMinimo').value) / 100;

      // Impostos
      const icms_sp = 0.06;
      const difal_rj = 0.06;
      const difal_mg = 0.06;

      // Pre√ßos concorr√™ncia
      const conc = {
        sp: [parseFloat(document.getElementById('conc1_sp').value), parseFloat(document.getElementById('conc2_sp').value)],
        rj: [parseFloat(document.getElementById('conc1_rj').value), parseFloat(document.getElementById('conc2_rj').value)],
        mg: [parseFloat(document.getElementById('conc1_mg').value), parseFloat(document.getElementById('conc2_mg').value)]
      };

      // C√°lculo de pre√ßo total por estado
      function calcularPrecoMin(imposto) {
        return custoTotal * (1 + margemLucro + imposto);
      }

      const precoSP = calcularPrecoMin(icms_sp);
      const precoRJ = calcularPrecoMin(icms_sp + difal_rj);
      const precoMG = calcularPrecoMin(icms_sp + difal_mg);

      // Convers√£o para saca (25kg e 50kg)
      const precoSP25 = (precoSP / 1000) * 25;
      const precoSP50 = (precoSP / 1000) * 50;
      const precoRJ25 = (precoRJ / 1000) * 25;
      const precoRJ50 = (precoRJ / 1000) * 50;
      const precoMG25 = (precoMG / 1000) * 25;
      const precoMG50 = (precoMG / 1000) * 50;

      function dif(preco, concorrente) {
        const d = preco - concorrente;
        return d.toFixed(2);
      }

      let html = `
        <table>
          <thead>
            <tr>
              <th>Estado</th>
              <th>Tipo Saca</th>
              <th>Pre√ßo Recomendado</th>
              <th>Concorrente 1</th>
              <th>Dif.</th>
              <th>Concorrente 2</th>
              <th>Dif.</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td rowspan="2">SP</td>
              <td>25kg</td>
              <td>R$ ${precoSP25.toFixed(2)}</td>
              <td>R$ ${conc.sp[0].toFixed(2)}</td>
              <td>R$ ${dif(precoSP25, conc.sp[0])}</td>
              <td>R$ ${conc.sp[1].toFixed(2)}</td>
              <td>R$ ${dif(precoSP25, conc.sp[1])}</td>
            </tr>
            <tr>
              <td>50kg</td>
              <td>R$ ${precoSP50.toFixed(2)}</td>
              <td>R$ ${conc.sp[0].toFixed(2)}</td>
              <td>R$ ${dif(precoSP50, conc.sp[0])}</td>
              <td>R$ ${conc.sp[1].toFixed(2)}</td>
              <td>R$ ${dif(precoSP50, conc.sp[1])}</td>
            </tr>

            <tr>
              <td rowspan="2">RJ</td>
              <td>25kg</td>
              <td>R$ ${precoRJ25.toFixed(2)}</td>
              <td>R$ ${conc.rj[0].toFixed(2)}</td>
              <td>R$ ${dif(precoRJ25, conc.rj[0])}</td>
              <td>R$ ${conc.rj[1].toFixed(2)}</td>
              <td>R$ ${dif(precoRJ25, conc.rj[1])}</td>
            </tr>
            <tr>
              <td>50kg</td>
              <td>R$ ${precoRJ50.toFixed(2)}</td>
              <td>R$ ${conc.rj[0].toFixed(2)}</td>
              <td>R$ ${dif(precoRJ50, conc.rj[0])}</td>
              <td>R$ ${conc.rj[1].toFixed(2)}</td>
              <td>R$ ${dif(precoRJ50, conc.rj[1])}</td>
            </tr>

            <tr>
              <td rowspan="2">MG</td>
              <td>25kg</td>
              <td>R$ ${precoMG25.toFixed(2)}</td>
              <td>R$ ${conc.mg[0].toFixed(2)}</td>
              <td>R$ ${dif(precoMG25, conc.mg[0])}</td>
              <td>R$ ${conc.mg[1].toFixed(2)}</td>
              <td>R$ ${dif(precoMG25, conc.mg[1])}</td>
            </tr>
            <tr>
              <td>50kg</td>
              <td>R$ ${precoMG50.toFixed(2)}</td>
              <td>R$ ${conc.mg[0].toFixed(2)}</td>
              <td>R$ ${dif(precoMG50, conc.mg[0])}</td>
              <td>R$ ${conc.mg[1].toFixed(2)}</td>
              <td>R$ ${dif(precoMG50, conc.mg[1])}</td>
            </tr>
          </tbody>
        </table>
      `;

      document.getElementById('resultado').innerHTML = html;
    }
  </script>

</body>
</html>
